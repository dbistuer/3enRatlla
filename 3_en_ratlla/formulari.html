<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Usuari</title>
    <link href="bootstrap-3/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="shortcut icon" href="img/tictac.ico"/>
    <link rel="stylesheet" type="text/css" href="estils.css">
  </head>
  <body background="img/bk1.jpg">
      <br/>
      <div class="container">
          <div class="row">
            <button class="btn btn-primary" onclick="history.back()" >Enrere</button>
          </div>
          <br/>
          <legend><b>Dades dels jugadors:</b></legend>
          <form action="joc.html" name="jugadors" id="jugadors" method="get">
              <div class="row">
                  <div class="col-xs-5">
                      <h2><span class="label label-primary col-xs-12">Jugador 1</span></h2>
                  </div>
                  <div class="col-xs-2"></div>
                  <div class="col-xs-5">
                      <h2><span class="label label-danger col-xs-12">Jugador 2</span></h2>
                  </div>
              </div>
              <br>
              <div class="row" id="errNom">
                <div class="col-xs-4 alert alert-danger text-center" id="errNom1" role="alert">
                    
                </div>
                <div class="col-xs-3"></div>
                <div class="col-xs-4 alert alert-danger text-center" id="errNom2" role="alert">
                </div>
              </div>
              <div class="row">
                  <div class="col-xs-2"><label>Nom:</label></div>
                  <div class="col-xs-2">
                      <input type="text" id="j1nom" placeholder="Escriu el teu nom" "required" onfocusout="majuscules('j1nom')" >
                  </div>
                  <div class="col-xs-3"></div>
                  <div class="col-xs-2"><label>Nom:</label></div>
                  <div class="col-xs-2">
                      <input type="text" id="j2nom" placeholder="Escriu el teu nom" "required" onfocusout="majuscules('j2nom')">
                  </div>
              </div>
              <div class="row">
                <div class="col-xs-4 alert alert-danger text-center" id="errCognom1" role="alert">
                </div>
                <div class="col-xs-3"></div>
                <div class="col-xs-4 alert alert-danger text-center" id="errCognom2" role="alert">
                    pepepwergpsfdjhs 
                  </div>
              </div>
              <div class="row">
                  <div class="col-xs-2"><label>Cognoms:</label></div>
                  <div class="col-xs-2">
                      <input type="text" id="j1cognom" placeholder="Escriu el teu cognom" "required" onfocusout="majuscules('j1cognom')">
                  </div>
                  <div class="col-xs-3"></div>
                  <div class="col-xs-2"><label>Cognoms:</label></div>
                  <div class="col-xs-2">
                      <input type="text" id="j2cognom" placeholder="Escriu el teu cognom" "required" onfocusout="majuscules('j2cognom')">
                  </div>
              </div>
              <div class="row">
                  <div class="col-xs-2"><label>Edat:</label></div>
                  <div class="col-xs-1">
                      <input type="number" id="j1edat" min="3" max="102" placeholder="Escriu l'edat" "required" >
                  </div>
                  <div class="col-xs-4"></div>
                  <div class="col-xs-2"><label>Edat:</label></div>
                  <div class="col-xs-1">
                      <input type="number" id="j2edat" min="3" max="102" placeholder="Escriu l'edat" "required" >
                  </div>
              </div>
              <div class="row">
                  <div class="col-xs-2"><label>NIF:</label></div>
                  <div class="col-xs-2">
                      <input type="text" id="j1nif" pattern="[0-9]{8}-[A-Z]" placeholder="Escriu el NIF" "required">
                  </div>
                  <div class="col-xs-3"></div>
                  <div class="col-xs-2"><label>NIF:</label></div>
                  <div class="col-xs-2">
                      <input type="text" id="j2nif" pattern="[0-9]{8}-[A-Z]" placeholder="Escriu el NIF" "required">
                  </div>
              </div>
              <div class="row">
                  <div class="col-xs-2"><label>Email:</label></div>
                  <div class="col-xs-2">
                      <input type="email" id="j1email" placeholder="Escriu un email valid" "required" >
                  </div>
                  <div class="col-xs-3"></div>
                  <div class="col-xs-2"><label>Email:</label></div>
                  <div class="col-xs-2">
                      <input type="email" id="j2email" placeholder="Escriu un email valid" "required" >
                  </div>
              </div>
              <br/>
              <div class="row">
                  <div class="col-xs-1">
                    <input type="reset" class="btn btn-danger" value="Borrar">
                  </div>
                  <div class="col-xs-8"></div>
                  <div class="col-xs-1">
                    <input type="submit" class="btn btn-success" value="Enviar" onclick="desarDades()">
                  </div>
              </div>
          </form>
          <script>
              var intents = document.cookie;
              if(intents == "" || intents === NaN || intents == "intents="){
                    intents = 0;
              }else{
                  alert("Intent nº"+Number(intents.slice((intents.length-1),intents.length))+".");
              }
              
              function desarDades(){
                  /*Posar en sessió*/

                  //Jugador 1
                  //Recollir de pantalla
                  var j1n = document.getElementById("j1nom").value;
                  var j1c = document.getElementById("j1cognom").value;
                  var j1e = Number(document.getElementById("j1edat").value)
                  var j1ni = document.getElementById("j1nif").value;
                  var j1em = document.getElementById("j1email").value;
                  //Enviar a sessio
                  sessionStorage.setItem( "j1nom" , j1n );
                  sessionStorage.setItem( "j1cognom" , j1c );
                  sessionStorage.setItem( "j1edat" , j1e );
                  sessionStorage.setItem( "j1nif" , j1ni );
                  sessionStorage.setItem( "j1email" , j1em );

                  //Jugador 2
                  //Recollir de pantalla
                  var j2nom = document.getElementById("j2nom").value;
                  var j2cognom = document.getElementById("j2cognom").value;
                  var j2edat = Number(document.getElementById("j2edat").value)
                  var j2nif = document.getElementById("j2nif").value;
                  var j2email = document.getElementById("j2email").value;
                  //Enviar a sessio
                  sessionStorage.setItem( "j2nom" , j2nom );
                  sessionStorage.setItem( "j2cognom" , j2cognom );
                  sessionStorage.setItem( "j2edat" , j2edat );
                  sessionStorage.setItem( "j2nif" , j2nif );
                  sessionStorage.setItem( "j2email" , j2email );
                  alert("Tot correcte s'han desat els jugadors correctament.");
                   document.cookie = "intents="+(intents++);
            }
              
              function majuscules(id) {
                  document.getElementById(id).style.textTransform = 'uppercase';     
              }
              
              function validacioNomCognoms(){
                  
                  switch (null){
                      case document.getElementById("j2cognom"):
                          document.getElementById("errCognom2").innerHTML
                          document.getElementById("j2cognom").focus;
                          break;
                      case document.getElementById("j1cognom"):
                          document.getElementById("j1cognom").focus;
                          break;
                      case document.getElementById("j2nom"):
                          document.getElementById("j2nom").focus;
                          break;
                      case document.getElementById("j1nom"):
                          document.getElementById("j1nom").focus;
                          break;    
                  }
              }
              
              /*--------------------------------------------------------------------------*/
function Comprobar(formulario) 
{   
var nombreAp=document.getElementById('nom').value;
var eMail=document.getElementById('email').value;
var Asunto=document.getElementById('cognom').value;
var Mensaje=document.getElementById('email').value;
if (nombreAp.length==0) 
{
var errorNombre=document.createElement('p');
errorNombre.innerHTML= 'No escribiste tu nombre';                   
document.getElementById("Comentarios").appendChild(errorNombre);
return false;
}
if (eMail.length==0) 
{
var erroremail=document.createElement('p');
erroremail.innerHTML='No escribiste tu email';
document.getElementById("Comentarios").appendChild(erroremail);
return false;
}
if (Asunto.length==0) 
{
var errorAsunto=document.createElement("p");
errorAsunto.innerHTML='No escribiste el asunto';            document.getElementById("Comentarios").appendChild(errorAsunto);
return false;
}
if (Mensaje.length==0) 
{   
var errorMensaje=document.createElement("p");
errorMensaje.innerHTML='No escribiste el mensaje';
document.getElementById("Comentarios").appendChild(errorMensaje);   
return false;
}
return true;
}

             
          </script>
      </div>
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="bootstrap-3/js/bootstrap.min.js"></script>
  </body>
</html>